---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";

const items = await getCollection("curated");

---

<BaseLayout title="Curated" description="Curated lists of blogs, essays, and music.">
  <div class="not-prose">
    <p class="text-ink-light text-md italic mb-4">Curated lists of my favorite blogs, essays, and music.</p>
    <table class="w-full border-collapse">
      <colgroup>
        <col class="w-24" />
        <col />
      </colgroup>
      <tbody>
        <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/playlist/56fWREjDvv37m3K1EuLLrm?utm_source=generator" width="100%" height="352" frameborder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
        <!-- {years.map((year, yearIndex) => (
          <>
            {yearIndex > 0 && (
              <tr>
                <td colspan="2" class="h-6"></td>
              </tr>
            )}
            <tr>
              <td colspan="2" class="pb-4">
                <div class="flex items-center gap-4">
                  <h2 class="text-sm font-sans font-semibold text-ink-light uppercase tracking-widest">{year}</h2>
                  <div class="flex-1 h-px bg-ink/10"></div>
                </div>
              </td>
            </tr>
            {postsByYear[year].map((post) => (
              <tr class="group">
                <td class="py-1.5 pr-4 text-right align-middle border-r border-dashed border-ink/15">
                  <time
                    datetime={post.data.date.toISOString()}
                    class="text-sm font-sans text-ink-light/60 tabular-nums whitespace-nowrap"
                  >
                    {formatDate(post.data.date)}
                  </time>
                </td>
                <td class="py-1.5 pl-4 align-middle">
                  <a
                    href={`/${post.data.slug}/`}
                    class="text-ink group-hover:text-accent transition-colors duration-150"
                  >
                    {post.data.title}
                  </a>
                </td>
              </tr>
            ))}
          </>
        ))} -->
      </tbody>
    </table>
  </div>
</BaseLayout>
